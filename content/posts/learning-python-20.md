---
title: "Learning Python 20"
date: 2024-09-20T17:20:16+08:00
draft: false
tags:
  - Python
---

# 迭代和解析，第二部分

## 回顾列表解析：函数式编程工具

列表解析把任意一个表达式而不是一个函数应用于一个迭代对象中的元素。

map是一个迭代器，根据需求产生结果;为了同样地实现内存节省，列表解析必须编码为生成器表达式。

## 重访迭代器：生成器

生成器是Python中一种非常强大的工具，特别适用于处理大量数据或需要逐步生成值的场景。它们是迭代器的一种特殊形式，通过yield关键字逐步返回值，而不是一次性返回所有结果。


生成器是通过函数或生成器表达式创建的。与普通函数不同的是，生成器在每次调用时返回一个值，并在函数暂停的位置保留执行状态，等待下一次调用继续执行。
生成器与迭代器的工作机制类似，但它通过惰性求值的方式生成数据，能够节省内存。

```python
def simple_generator():
    yield 1
    yield 2
    yield 3

gen = simple_generator()
print(next(gen))  # 输出: 1
print(next(gen))  # 输出: 2
print(next(gen))  # 输出: 3
```


生成器表达式类似于列表解析，但它不会一次性生成所有元素，而是逐个生成。这使得生成器表达式非常适合处理大量数据，特别是在内存有限的情况下。
```python
gen = (x ** 2 for x in range(5))
```

