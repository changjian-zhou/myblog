---
title: "Learning Python 4"
date: 2024-09-10T10:16:23+08:00
draft: false
tags:
  - Python
---

# 介绍Python对象类型
`数据`以`对象`的形式出现

Python程序可以分解成`模块、语句、表达式以及对象`
- 程序由模块构成
- 模块包含语句
- 语句包含表达式
- 表达式建立并处理对象

## 为什么使用内置类型
内置类型让编程变得更简单且高效。

- 内置对象使程序更容易编写
- 内置对象是扩展的组件
- 内置对象往往比定制的数据结构更有效率
- 内置对象是语言的标准的一部分

### Python的核心数据类型

|   对象类型   |           例子 常量/创建            |
|:--------:|:-----------------------------:|
|    数字    |             1234              |
|   字符串    |            'spam'             |
|    列表    |       [1,[2,'three'],4]       |
|    字典    | {'food':'spam','taste':'yum'} |
|    元组    |         (1,'spam',4)          |
|    文件    |    myfile=open('eggs','r')    |
|    集合    |         {'a','b','c'}         |
|   其他类型   |          类型、None、布尔型          |
|  变成单元类型  |            函数、模型、类            |
| 与实现相关的类型 |           编译的代码堆栈跟踪           |
## 数字
整数、浮点数、其他

## 字符串
### 序列的操作
```Python
S = 'Span'
len(S)
S[0]
S[-1]
S[1:3]
S + 'xyz'
S*8
```
### 不可变性
已经生成的字符串不能对某一位置进行赋值而改变字符串，但可以建立一个新的字符串并以同一个变量名对其进行赋值。

数字、字符串和元组是不可变的;列表和字典是可变的。
### 类型特定的方法
```Python
S.find('pa')
S.replace('pa','XYZ')
line = 'aaa,bbb,ccccc,dd'
line.split(',')
S.upper()
S.isalpha()
line = line.rstrip()
'%s, eggs, and %s' % ('spam', 'SPAM')
'{0}, eggs, and {1}'.format('spam', 'SPAM')
```
### 寻求帮助
用`dir()`查看方法的名称，然后用`help()`看怎么用
### 编写字符串的其他方法
`pass`
### 模式匹配
`pass`
## 列表
### 序列操作
序列操作就是索引、切片、添加（+）等。
### 类型特定的操作
列表没有固定类型的约束，也没有固定大小。

`list.pop()`为删除列表中指定的值

> 因为列表是可变的，大多数列表的方法都会就地改变列表对象，而不是创建一个新的列表（与字符串不同）。

### 边界检查
超出列表末尾之外的索引和对列表末尾范围之外赋值会导致错误。

### 嵌套
```python
M = [[1,2,3],
     [4,5,6],
     [7,8,9]]
```
### 列表解析
```python
M = [[1,2,3],
     [4,5,6],
     [7,8,9]]
col2 = [row[1] for row in M]
[row[1] + 1 for row in M]
```

## 字典
字典是一种映射类型。
### 映射操作
字典的索引操作是在方括号里边填写键。

`D['food']`

### 重访嵌套
```python
rec = {'name' : {'first' : 'Bod', 'last' : 'Smith'}
       'job' : ['dev', 'mgr']
       'age' : 40.5
       }
```
### 键的排序：for循环
`pass`
### 迭代和优化
从左到右地扫描一个对象的每个Python工具都使用迭代协议。
### 不存在的键：if测试
```python
if not 'f' in D:
    print('missing')
```

## 元组
元组与列表一样都是序列，但是它具有不可变性。
### 为什么要使用元组
关键是不可变性。

## 文件
文件对象是Python代码对电脑上外部文件的主要接口。
## 其他核心类型
集合是不可变对象的无序集合。
### 如何破坏代码的灵活性
```python
if isinstance(L, list):
    print('yes')
```
### 用户定义的类
```python
class Worker:
    def __init__(self, name, pay):
        self.name = name
        self.pay = pay
    def lastName(self):
        return self.name.split()[-1]
    def giveRaise(self, percent):
        self.pay *= (1.0 + percent)
```
## 习题
> 序列是什么意思？

一个序列是一个对位置进行排序的对象的集合。字符串、列表、元组都是序列，他们都可以索引、合并、分片，又有自己的方法。
> 多态是什么？

多态意味着一个操作符（如+）的意义取决于被操作的对象